import{d as h,o as c,c as f,a as g,t as C,b as o,u,n as k,_ as z,e as A,r as M,f as y,w as _,g as w,h as U,i as V,j as I,k as L,F as D,l as B,m as K,p as W,q as j,s as q,v as R,x as F,y as H,z as P}from"./vendor.d584665e.js";const G=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}};G();var r;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT",e[e.EVENT=2]="EVENT"})(r||(r={}));var E;(function(e){e[e.CHAT_CREATED=0]="CHAT_CREATED"})(E||(E={}));function J(e){return new Date(e)}function d(){return new Date().toISOString()}const Q={class:"chat-message__text"},X={class:"chat-message__status"},Y=h({props:{message:{type:Object,required:!0,validator(e){return e.type!==r.EVENT}},isLeftSided:{type:Boolean,default:!1}},setup(e){const n=e;return(s,i)=>{const t=z;return c(),f("div",{class:k(["chat-message",{"chat-message--left-sided":n.isLeftSided}])},[g("div",Q,C(n.message.data),1),g("div",X,[o(t,{class:"chat-message__sent-time",time:u(J)(n.message.time),type:"relative"},null,8,["time"])])],2)}}});const Z={round:"",size:"small",class:"chat-event"},ee=h({props:{message:{type:Object,required:!0,validator(e){return e.type===r.EVENT}}},setup(e){const n=e,s=["Chat created"];function i(t){return s[t]}return(t,a)=>(c(),f("div",Z,C(i(n.message.data)),1))}});function te(e,n){return{type:e,data:n,time:d()}}const ne=A("partitura",{state:()=>({messages:[{type:r.EVENT,time:d(),data:0},{type:r.OUT,time:d(),data:"Hello WebRTC!"},{type:r.IN,time:d(),data:"Who are you?"},{type:r.EVENT,time:d(),data:0},{type:r.IN,time:d(),data:`Who auent/Shaont-size: 28px; margin-right: 14px">
<n-icon>npx; marght: 14px"renpx; margiType.n-Type.righin-right: 14px"renpx; marginType.-right: 14px"Anpx; margin-right: 14px">
<n-icondre you?`},{type:r.OUT,time:d(),data:`Who auent/Shaont-size: 28px; margin-right: 14px">
<n-icon>npx; marght: 14px"renpx; margiType.n-Type.righin-right: 14px"renpx; marginType.-right: 14px"Anpx; margin-right: 14px">
<n-icondre you?`}]}),getters:{getMessages:e=>e.messages},actions:{addUserMessage(e){this.messages.push(te(r.OUT,e))}}});const se={class:"chat__body"},ae={class:"chat__footer"},oe={class:"chat__input-message-container"},re={class:"chat__button-send-container"},ie=h({setup(e){const n=ne(),s=M("");function i(){const p=s.value.trim();!p||(n.addUserMessage(p),s.value="")}function t(p){s.value=p.trim()}function a(p){p.shiftKey||i()}function l(){i()}return(p,T)=>{const v=B,x=K,N=ee,O=Y,b=W,S=j;return c(),y(S,{title:"Serverless Chat",class:"chat",bordered:!1},{"header-extra":_(()=>[o(x,{text:"",style:{"font-size":"28px","margin-right":"14px"}},{default:_(()=>[o(v,null,{default:_(()=>[o(u(w))]),_:1})]),_:1}),o(x,{text:"",style:{"font-size":"28px"}},{default:_(()=>[o(v,null,{default:_(()=>[o(u(U))]),_:1})]),_:1})]),action:_(()=>[g("footer",ae,[g("div",oe,[o(b,{value:s.value,"onUpdate:value":T[0]||(T[0]=m=>s.value=m),placeholder:"Write a message...",type:"textarea",size:"small",autosize:{maxRows:8},onChange:t,onKeyup:V(a,["enter"])},null,8,["value","onKeyup"])]),g("div",re,[o(x,{text:"",style:{"font-size":"28px"},onClick:l},{default:_(()=>[o(v,null,{default:_(()=>[o(u(I))]),_:1})]),_:1})])])]),default:_(()=>[g("div",se,[(c(!0),f(D,null,L(u(n).getMessages,(m,$)=>(c(),f("div",{key:$,class:"chat__row"},[m.type===u(r).EVENT?(c(),y(N,{key:0,message:m},null,8,["message"])):(c(),y(O,{key:1,message:m,"is-left-sided":m.type===u(r).OUT},null,8,["message","is-left-sided"]))]))),128))])]),_:1})}}});var _e=(e,n)=>{const s=e.__vccOpts||e;for(const[i,t]of n)s[i]=t;return s};const ce={},ue={class:"main"};function le(e,n){const s=ie;return c(),f("div",ue,[o(s)])}var pe=_e(ce,[["render",le]]);const de=h({setup(e){const n={common:{bodyColor:"#030303"}};return(s,i)=>{const t=pe,a=F,l=R;return c(),y(l,{theme:u(q),"theme-overrides":n},{default:_(()=>[o(t),o(a)]),_:1},8,["theme"])}}});H(de).use(P()).mount("#app");
